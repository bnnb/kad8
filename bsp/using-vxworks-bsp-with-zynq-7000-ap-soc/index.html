<!DOCTYPE html>
<html lang="zh-cn" dir="ltr" class="scroll-smooth" data-default-appearance="dark"
  data-auto-appearance="false"><head>
  <meta charset="utf-8" />
  
  <meta http-equiv="content-language" content="zh-cn" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  
  <title>Using VxWorks BSP With Zynq 7000 Ap Soc &middot; Kontronn Asia Design Center</title>
  <meta name="title" content="Using VxWorks BSP With Zynq 7000 Ap Soc &middot; Kontronn Asia Design Center" />
  
  <meta name="description" content="The steps for using VxWorks RTOS on the Zynq-7000 AP SoC platform" />
  <meta name="keywords" content="VxWorks, Zynq-7000, ARM, " />
  
  
  <link rel="canonical" href="https://www.kad8.com/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/" />
  
  
  
  
  
  
  
  
  
  
  <link type="text/css" rel="stylesheet" href="/css/main.bundle.min.67eb0befb1fb57e6528684f3a2ff6e0606a82100504705b66488d54a9f3fda9c2605c9bf3b70163208427288637a7b4d1a168384c1115e417458eae6b44b329c.css"
    integrity="sha512-Z&#43;sL77H7V&#43;ZShoTzov9uBgaoIQBQRwW2ZIjVSp8/2pwmBcm/O3AWMghCcohjentNGhaDhMERXkF0WOrmtEsynA==" />
  
  
  <script type="text/javascript" src="/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js"
    integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj&#43;e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <script defer type="text/javascript" id="script-bundle" src="/js/main.bundle.min.efbf3b6b987689fffaf2d7b73173d2690c0279a04d444b0537a77d7f4ff6e6d493445400cb0cf56bc0f0f123e19f15394e63cae34e67f069bd013dd5c73df56e.js"
    integrity="sha512-7787a5h2if/68te3MXPSaQwCeaBNREsFN6d9f0/25tSTRFQAywz1a8Dw8SPhnxU5TmPK405n8Gm9AT3Vxz31bg==" data-copy="" data-copied=""></script>
  
  
  
  <script src="/lib/zoom/zoom.min.37d2094687372da3f7343a221a470f6b8806f7891aa46a5a03966af7f0ebd38b9fe536cb154e6ad28f006d184b294525a7c4054b6bbb4be62d8b453b42db99bd.js" integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S&#43;Yti0U7QtuZvQ=="></script>
  
  
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="manifest" href="/site.webmanifest" />
  
  
  
  
  
  
  
  <meta property="og:url" content="https://www.kad8.com/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/">
  <meta property="og:site_name" content="Kontronn Asia Design Center">
  <meta property="og:title" content="Using VxWorks BSP With Zynq 7000 Ap Soc">
  <meta property="og:description" content="The steps for using VxWorks RTOS on the Zynq-7000 AP SoC platform">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="bsp">
    <meta property="article:published_time" content="2024-10-05T16:44:42+08:00">
    <meta property="article:modified_time" content="2024-10-05T16:44:42+08:00">
    <meta property="article:tag" content="VxWorks">
    <meta property="article:tag" content="Zynq-7000">
    <meta property="article:tag" content="ARM">
    <meta property="og:image" content="https://www.kad8.com/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/featured-VxWorks-on-Zynq-UltraScale-MPSoC.png">
      <meta property="og:see_also" content="https://www.kad8.com/bsp/booting-vxworks-with-altera-cyclone-v/">
      <meta property="og:see_also" content="https://www.kad8.com/bsp/vxworks-5-4-device-driver-development/">

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://www.kad8.com/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/featured-VxWorks-on-Zynq-UltraScale-MPSoC.png">
  <meta name="twitter:title" content="Using VxWorks BSP With Zynq 7000 Ap Soc">
  <meta name="twitter:description" content="The steps for using VxWorks RTOS on the Zynq-7000 AP SoC platform">

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Board Support Package",
    "name": "Using VxWorks BSP With Zynq 7000 Ap Soc",
    "headline": "Using VxWorks BSP With Zynq 7000 Ap Soc",
    "description": "The steps for using VxWorks RTOS on the Zynq-7000 AP SoC platform",
    "abstract": "\u003ch1 class=\u0022relative group\u0022\u003eLearning Objectives \n    \u003cdiv id=\u0022learning-objectives\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700\u0022\n            style=\u0022text-decoration-line: none !important;\u0022 href=\u0022#learning-objectives\u0022 aria-label=\u0022锚点\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h1\u003e\n\u003cp\u003eThis application note has provided step-by-step instructions for running the VxWorks 6.9.3.1 BSP on the Zynq-7000 SoC All Programmable device platform, and additionally provided an overview of the boot process for the Zynq-7000 AP SoC platform.\u003c\/p\u003e",
    "inLanguage": "zh-cn",
    "url" : "https:\/\/www.kad8.com\/bsp\/using-vxworks-bsp-with-zynq-7000-ap-soc\/",
    "author" : {
      "@type": "Person",
      "name": ""
    },
    "copyrightYear": "2024",
    "dateCreated": "2024-10-05T16:44:42\u002b08:00",
    "datePublished": "2024-10-05T16:44:42\u002b08:00",
    
    "dateModified": "2024-10-05T16:44:42\u002b08:00",
    
    "keywords": ["VxWorks","Zynq-7000","ARM"],
    
    "mainEntityOfPage": "true",
    "wordCount": "4167"
  }]
  </script>


  
  
  
  
  

<script src="/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>






















  
  



  
  
  <meta name="theme-color"/>
  
  
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1543398821442998"
  crossorigin="anonymous"></script>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-7CPMBSEV45"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-7CPMBSEV45');
  </script>
</head>
<body
  class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
  <div id="the-top" class="absolute flex self-center">
    <a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
      href="#main-content"><span
        class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>跳过正文</a>
  </div>
  
  
  <div class="min-h-[148px]"></div>
<div class="fixed inset-x-0 pl-[24px] pr-[24px]" style="z-index:100">
  <div id="menu-blur" class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl shadow-2xl"></div>
  <div class="relative max-w-[64rem] ml-auto mr-auto">
    <div style="padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px"
    class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start space-x-3">
    
    
    
    <div>
        <a href="/" class="flex">
            <span class="sr-only">Kontronn Asia Design Center</span>

            
            <img src="/img/Kad8_logo.png" width="105" height="105"
                class="logo max-h-[5rem] max-w-[5rem] object-scale-down object-left nozoom" alt="Kontronn Asia Design Center" />
            

        </a>
    </div>
    
    <div class="flex flex-1 items-center justify-between">
        <nav class="flex space-x-3">

            
            <a href="/" class="text-base font-medium text-gray-500 hover:text-gray-900">Kontronn Asia Design Center</a>
            

        </nav>
        <nav class="hidden md:flex items-center space-x-5 md:ml-12 h-12">

            
            
            
  <a href="/hardware/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        Hardware
    </p>
</a>



            
            

            


            
            <button id="search-button" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            


            
            

        </nav>
        <div class="flex md:hidden items-center space-x-5 md:ml-12 h-12">

            <span></span>

            


            
            <button id="search-button-mobile" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            

            
            

        </div>
    </div>
    <div class="-my-2 -mr-2 md:hidden">

        <label id="menu-button" class="block">
            
            <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
                

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>

  </span>


            </div>
            <div id="menu-wrapper" style="padding-top:5px;"
                class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50">
                <ul
                    class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">

                    <li id="menu-close-button">
                        <span
                            class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>

</span>
                    </li>

                    

                    
  <li class="mt-1">
    <a href="/hardware/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            Hardware
        </p>
    </a>
</li>




                    

                </ul>
                
                

            </div>
        </label>
    </div>
</div>




<script>
    (function () {
        var $mainmenu = $('.main-menu');
        var path = window.location.pathname;
        $mainmenu.find('a[href="' + path + '"]').each(function (i, e) {
            $(e).children('p').addClass('active');
        });
    })();
</script>


  </div>
</div>
<script>
  window.addEventListener('scroll', function (e) {
    var scroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
    var background_blur = document.getElementById('menu-blur');
    background_blur.style.opacity = (scroll / 300);
  });
</script>

  
  <div class="relative flex flex-col grow">
    <main id="main-content" class="grow">
      


<article>
  

  <header id="single_header" class="mt-5 max-w-prose">
    
    <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
      Using VxWorks BSP With Zynq 7000 Ap Soc
    </h1>
    <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
      





  
  







  



















<div class="flex flex-row flex-wrap items-center">
  
  
  <time datetime="2024-10-05T16:44:42&#43;08:00">2024-10-05</time>
  

  
  
</div>





<div class="flex flex-row flex-wrap items-center">
  
  
  
  
  
  
  
  
  
  
  
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/vxworks/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    VxWorks
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/zynq-7000/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Zynq-7000
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/arm/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    ARM
  </span>
</span>
  </span>
  
  
  
  
</div>




    </div>

    
    
    
    
    

    

    
      
      
        
        
<div class="flex author">
  
  <div class="place-self-center">
    
    
    <div class="text-2xl sm:text-lg">
</div>
  </div>
</div>

      

      

      
      <div class="mb-5"></div>
      

    

  </header>
  
  <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
    
     <div
      class="order-first lg:ml-auto px-0 lg:order-last ltr:lg:pl-8 rtl:lg:pr-8">
      <div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-[140px]">

         <details open id="TOCView"
  class="toc-right mt-0 overflow-y-scroll overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    目录
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#software-requirements">Software Requirements</a></li>
    <li><a href="#hardware-requirements">Hardware Requirements</a></li>
  </ul>

  <ul>
    <li><a href="#stage-0-bootrom">Stage 0: BootROM</a></li>
    <li><a href="#stage-1-first-stage-bootloader">Stage 1: First Stage Bootloader</a></li>
    <li><a href="#stage-2-vxworks-bootloader">Stage 2: VxWorks Bootloader</a></li>
  </ul>

  <ul>
    <li><a href="#host-environment-configuration">Host Environment Configuration</a></li>
    <li><a href="#configure-and-build-a-vxworks-bootrom-and-kernel-image">Configure and Build a VxWorks BootROM and Kernel Image</a></li>
    <li><a href="#building-the-kernel-image">Building the Kernel Image</a></li>
    <li><a href="#booting-from-an-secure-digital-card">Booting From an Secure Digital Card</a></li>
    <li><a href="#booting-using-ftp">Booting Using FTP</a></li>
  </ul>

  <ul>
    <li><a href="#creating-the-hello-world-application">Creating the Hello World Application</a></li>
  </ul>

  <ul>
    <li><a href="#modifying-the-hello-world-application">Modifying the Hello World Application</a></li>
  </ul>

  <ul>
    <li><a href="#adding-the-address-range-to-the-mmu-configuration">Adding the Address Range to the MMU Configuration</a></li>
    <li><a href="#updating-the-hello-world-project">Updating the Hello World Project</a></li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    目录
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#software-requirements">Software Requirements</a></li>
    <li><a href="#hardware-requirements">Hardware Requirements</a></li>
  </ul>

  <ul>
    <li><a href="#stage-0-bootrom">Stage 0: BootROM</a></li>
    <li><a href="#stage-1-first-stage-bootloader">Stage 1: First Stage Bootloader</a></li>
    <li><a href="#stage-2-vxworks-bootloader">Stage 2: VxWorks Bootloader</a></li>
  </ul>

  <ul>
    <li><a href="#host-environment-configuration">Host Environment Configuration</a></li>
    <li><a href="#configure-and-build-a-vxworks-bootrom-and-kernel-image">Configure and Build a VxWorks BootROM and Kernel Image</a></li>
    <li><a href="#building-the-kernel-image">Building the Kernel Image</a></li>
    <li><a href="#booting-from-an-secure-digital-card">Booting From an Secure Digital Card</a></li>
    <li><a href="#booting-using-ftp">Booting Using FTP</a></li>
  </ul>

  <ul>
    <li><a href="#creating-the-hello-world-application">Creating the Hello World Application</a></li>
  </ul>

  <ul>
    <li><a href="#modifying-the-hello-world-application">Modifying the Hello World Application</a></li>
  </ul>

  <ul>
    <li><a href="#adding-the-address-range-to-the-mmu-configuration">Adding the Address Range to the MMU Configuration</a></li>
    <li><a href="#updating-the-hello-world-project">Updating the Hello World Project</a></li>
  </ul>
</nav>
  </div>
</details>

<script>

  var margin = 200;
  var marginError = 50;

  (function () {
    var $window = $(window);
    var $toc = $('#TOCView');
    var tocHeight = $toc.height();

    function onResize() {
      var windowAndMarginHeight = $window.height() - margin;
      if(tocHeight >= windowAndMarginHeight) {
        $toc.css("overflow-y", "scroll")
        $toc.css("max-height", (windowAndMarginHeight + marginError) + "px")
      } else {
        $toc.css("overflow-y", "hidden")
        $toc.css("max-height", "9999999px")
      }
    }

    $window.on('resize', onResize);
    $(document).ready(onResize);
  })();



  (function () {
    var $toc = $('#TableOfContents');
    if ($toc.length > 0) {
      var $window = $(window);

      function onScroll() {
        var currentScroll = $window.scrollTop();
        var h = $('.anchor');
        var id = "";
        h.each(function (i, e) {
          e = $(e);
          if (e.offset().top - $(window).height()/3 <= currentScroll) {
            id = decodeURIComponent(e.attr('id'));
          }
        });
        var active = $toc.find('a.active');      
        if (active.length == 1 && active.eq(0).attr('href') == '#' + id) return true;

        active.each(function (i, e) {
           
            $(e).removeClass('active').siblings('ul').hide();
          
        });
        $toc.find('a[href="#' + id + '"]').addClass('active')
        $toc.find('a[href="#' + id + '"]').parentsUntil('#TableOfContents').each(function (i, e) {
          $(e).children('a').parents('ul').show();          
        });
      }

      $window.on('scroll', onScroll);
      $(document).ready(function () {
         
          $toc.find('a').parent('li').find('ul').hide();
        
        onScroll();
      });
    }
  })();


</script>
   </div>
      </div>
      

      <div class="min-w-0 min-h-0 max-w-fit">
        
        
<details style="margin-left:0px" class="mt-2 mb-5 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5" >
    
    <summary
        class="py-1 text-lg font-semibold cursor-pointer bg-primary-200 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-primary-800 dark:text-neutral-100">
        BSP - 这篇文章属于一个选集。
    </summary>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        § 1: 本文
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="https://www.kad8.com/bsp/vxworks-5-4-device-driver-development/">
            § 2: VxWorks 5.4 Device Driver Development
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="https://www.kad8.com/bsp/booting-vxworks-with-altera-cyclone-v/">
            § 3: Boot VxWorks With Altera Cyclone V
        </a>
    </div>
    
    


</details>



        <div class="article-content max-w-prose mb-20">
          

<h1 class="relative group">Learning Objectives 
    <div id="learning-objectives" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#learning-objectives" aria-label="锚点">#</a>
    </span>        
    
</h1>
<p>This application note has provided step-by-step instructions for running the VxWorks 6.9.3.1 BSP on the Zynq-7000 SoC All Programmable device platform, and additionally provided an overview of the boot process for the Zynq-7000 AP SoC platform.</p>
<p>You will know the steps for using VxWorks RTOS on the Zynq-7000 AP SoC platform.</p>


<h1 class="relative group">Summary 
    <div id="summary" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#summary" aria-label="锚点">#</a>
    </span>        
    
</h1>
<p>VxWorks from Wind River:</p>
<ul>
<li>Is a Real Time Operating system (RTOS).</li>
<li>Is a platform-based approach with configurable components that relate to different architecture support, network, file system, compiler and development tool chains.</li>
<li>Supports the Zynq®-7000 All Programmable (AP) SoC architecture of multicore processor systems.</li>
<li>Has support for asymmetric multiprocessing (AMP) and symmetric multiprocessing (SMP).</li>
</ul>
<p>This application note is intended as a getting started guide for new users of VxWorks on the Zynq-7000 device. The document contains the following primary sections:</p>
<ul>
<li>Introduction: Explains the important elements of the Zynq-7000 software environment to provide a better understanding of BSP and application generation. This includes the:</li>
</ul>
<ol>
<li>ROM mechanism</li>
<li>Function of the first stage bootloader (FSBL)</li>
<li>Wind River bootloader</li>
<li>Explanation of the Zynq-7000 processor subsystem boot process</li>
</ol>
<ul>
<li>Building VxWorks for Zynq-7000 AP SoC, page 5: Explains native flash (SD Card) and remote Ethernet (FTP) boot source options and the bootloader configurations for both options.</li>
<li>Building and Debugging the Application, page 17: Explains how to create, build and remotely run a custom application with VxWorks on a Zynq-7000 device.</li>
<li>Accessing a Peripheral in the Processing System, page 20: Describes how to access peripheral systems in the Zynq-7000 Processing System (PS).</li>
<li>Conclusion, page 25: Summarizes what this application note describes.</li>
<li>Additional Resources, page 25: Provides additional resource links.</li>
</ul>
<blockquote>
This document assumes familiarity with the Xilinx® ISE® Design Suite and Zynq-7000 AP SoC design methodology. This document includes a reference system for the Xilinx ZC702 board derived from the Zynq-7000 AP SOC - Concepts, Tools and Techniques User Guide [Ref 1], which provides the details on how to rebuild such a system.
</blockquote>


<h1 class="relative group">Hardware and Software Requirements 
    <div id="hardware-and-software-requirements" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#hardware-and-software-requirements" aria-label="锚点">#</a>
    </span>        
    
</h1>


<h2 class="relative group">Software Requirements 
    <div id="software-requirements" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#software-requirements" aria-label="锚点">#</a>
    </span>        
    
</h2>
<ul>
<li>Xilinx® ISE® Design Suite: Embedded or System Edition 14.6 or Vivado® Design Suite, 2013.2.</li>
<li>Wind River Workbench for VxWorks 6.9.3, which includes a Zynq-7000 AP SoC BSP</li>
<li>Serial Communication utility program (such as Tera Term)</li>
</ul>


<h2 class="relative group">Hardware Requirements 
    <div id="hardware-requirements" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#hardware-requirements" aria-label="锚点">#</a>
    </span>        
    
</h2>
<ul>
<li>Xilinx ZC702 Development Board</li>
<li>Ethernet Cable</li>
<li>USB UART Cable</li>
</ul>


<h1 class="relative group">Introduction 
    <div id="introduction" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#introduction" aria-label="锚点">#</a>
    </span>        
    
</h1>
<p>The Zynq-7000 AP SOC devices takes advantage of the on-chip CPU to facilitate configuration. Initial device configuration of the processing system (PS) and the programmable logic (PL) must take place through the PS when not using JTAG.</p>
<p>Two major blocks control the configuration:</p>
<ul>
<li>The first is the BootROM which is a static block of memory that is executed by the multiprocessor core after power-on reset and warm reset.</li>
<li>The second major block is the device configuration unit which controls JTAG debug access and provides an interface to the AES, HMAC, and PCAP blocks for PL configuration and data decryption.</li>
</ul>
<p>Both the PS and PL can be configured under PS control either securely or non-securely. Configuration under external host control is also possible using JTAG.</p>
<p>Unlike other Xilinx 7 series devices, Zynq-7000 AP SOC devices do not support initial PL controlled configuration. Configuration on the Zynq-7000 AP SOC devices is a multi-step process. The configuration process involves a minimum of two stages, but generally requires three stages.</p>
<p>The stages are:</p>
<ul>
<li>Stage 0: BootROM, page 3: Referred to as the BootROM, this stage controls initial device startup. The BootROM is non-modifiable code executed by the processor after power-on reset and warm reset.</li>
<li>Stage 1: First Stage Bootloader, page 4: This is generally a first stage boot loader (FSBL), but it can be any user-controlled code. See the Zynq-7000 AP SOC Software Developers Guide (UG821) [Ref 1] for details about FSBL.</li>
<li>Stage 2: VxWorks Bootloader, page 4: This is generally user-configurable software that can act as a second stage boot loader (SSBL). This stage is completely within user control. In the case of this document, it is part of the VxWorks bootloader.</li>
</ul>
<p>Figure 1 below illustrates a non-secure boot process for typical Linux system. Uboot is an example for higher-level boot loader and can be exchanged by VxWorks bootloader.</p>
<p>
    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-1_hu16760858811985712527.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-1_hu2244382950444843317.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-1_hu5395181580198361897.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-1_hu256151706310501905.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-1_hu2244382950444843317.jpg"
        alt="Boot Flow"
      />
      <figcaption>Figure 1: Boot Flow</figcaption>
    </figure>
</p>


<h2 class="relative group">Stage 0: BootROM 
    <div id="stage-0-bootrom" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#stage-0-bootrom" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>The Zynq-7000 AP SoC processor subsystem configuration starts after power-on reset. The ARM® CPU starts executing code from the on-chip BootROM with JTAG disabled. The BootROM contains code for base drivers for NAND, NOR, Quad-SPI, SD, and PCAP. DDR and other peripheral initializations are not performed from the BootROM and must be done in the Stage 1 image, First Stage Bootload (FSBL) or later.</p>
<p>For security, the CPU is always the first device out of reset among all master modules within the PS. When the BootROM is running the JTAG is disabled to ensure security.</p>
<p>The BootROM code is also responsible for loading the FSBL. Zynq-7000 AP SoC architecture supports multi-stage user boot image loading; any further user boot image loading after FSBL is the responsibility of the user. When the BootROM releases control to FSBL, user software assumes full control of entire system. The only way to execute the BootROM again is by performing a reset.</p>
<p>The PS boot source is selected using the mode-pin signals (indicated by a weak pull-up or pull-down applied to specific pins), which are sampled after during power-on reset. The sampled value is stored in the <code>BOOT_MODE</code> register.</p>
<p>The BootROM supports encrypted and unencrypted images referred to as secure boot and non-secure boot, respectively. Additionally, the BootROM supports beginning execution of the stage 1 image from OCM after copying the image or executing direct from linear flash (NOR or QSPI) when using the execute-in-place (XIP) feature.</p>
<ul>
<li>In secure boot the CPU, running from secure BootROM code, decrypts and authenticates the incoming user PS image, stores it in the OCM RAM, and then branches into that RAM.</li>
<li>In non-secure boot the CPU, running from BootROM code, disables all secure boot features including the AES engine within the PL before branching to the user image in the OCM RAM or flash, if XIP is used. The Processor System (PS) boot image is limited to 192 KB unless booting with XIP.</li>
</ul>
<p>Any subsequent boot stages for either the PS or the PL are the responsibility of the user and are under user control. The BootROM code is not accessible to the user.</p>
<ul>
<li>Following the stage 1 secure boot, you can proceed with either secure or non-secure subsequent boot stages.</li>
<li>Following a non-secure first stage boot, only non-secure subsequent stage boots are possible.</li>
</ul>
<p>For secure boot decryption and authentication, the PS uses the hard-wired AES-256 and SHA-256 modules within the PL. For this reason, the PL must be powered up during any secure boot, even if only the PS is configured. The device encryption key is user-selectable from either the on-chip eFUSE unit or the on-chip block RAM.</p>
<p>The possible boot sources are: NAND, NOR, SD, Quad-SPI, and JTAG. The first four boot sources are used in master boot methods in which the CPU loads the external boot image from nonvolatile memory into the PS.</p>


<h2 class="relative group">Stage 1: First Stage Bootloader 
    <div id="stage-1-first-stage-bootloader" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#stage-1-first-stage-bootloader" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>The First Stage Bootloader (FSBL) starts after the execution of the BootROM. BootRom loads the FSBL into the OCM, or the FSBL executes in place (XIP) unencrypted from memory mapped flash (NOR or Quad-SPI), contingent upon the BootROM header description.</p>
<p>The FSBL is responsible for:</p>
<ul>
<li>Initialization using the PS configuration data provided by Xilinx Platform Studio (XPS) (see &ldquo;Zynq-7000 PS Configuration&rdquo; in the Zynq-7000 AP SOC Software Developers Guide (UG821) [Ref 2].</li>
<li>Programming the PL using a bitstream</li>
<li>Loading second stage bootloader or bare-metal application code into DDR memory</li>
<li>Starting execution of the second stage bootloader or bare-metal application</li>
</ul>
<p>Note: Before handoff to the second stage bootloader or bare-metal application, the FSBL invalidates the instruction cache and disables the cache and MMU, because Linux (and perhaps other operating systems) assume it is disabled upon start.</p>
<p>See the FSBL code provided with SDK for details on how the FSBL initializes the CPU and peripherals used by the FSBL, and how it uses a simple C run time library.</p>
<p>The bitstream for the PL and the second stage bootloader or bare-metal application data, as well as other code and data used by the second stage bootloader, Linux (or other operating system), or bare-metal application are grouped into partitions in the flash image.</p>


<h2 class="relative group">Stage 2: VxWorks Bootloader 
    <div id="stage-2-vxworks-bootloader" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#stage-2-vxworks-bootloader" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>The VxWorks bootloader application loads a VxWorks image onto a target. Like VxWorks, you can configure the VxWorks bootloader with various facilities; such as a command line interface for dynamically setting boot parameters, a network loader, and a file system loader.</p>
<p>Uniprocessor (UP), symmetric multiprocessor (SMP), and asymmetric multiprocessor (AMP), configurations of VxWorks use the same bootloader.</p>
<p>In a development environment, a bootloader is useful for loading a VxWorks image from a host system, where you can modify and rebuild VxWorks. You can also use a VxWorks bootloader in production systems when the bootloader and operating system are stored on a disk or other media.</p>
<p>Self-booting (standalone) VxWorks images do not require a bootloader. These images are commonly used in production systems (stored in nonvolatile devices).</p>
<p>Usually, the bootloader is programmed in a nonvolatile device (usually flash memory or EEPROM) at an address such that it is the first code run by the processor when the target is powered on or rebooted. The procedure to get the boot loader programmed in a nonvolatile device or written to a disk is dependent on the target, and is described in following section using an SD card image.</p>
<p>The VxWorks product installation includes default bootloader images for each installed BSP. If they do not meet your needs, you can create a custom bootloader.</p>


<h1 class="relative group">Building VxWorks for Zynq-7000 AP SoC 
    <div id="building-vxworks-for-zynq-7000-ap-soc" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#building-vxworks-for-zynq-7000-ap-soc" aria-label="锚点">#</a>
    </span>        
    
</h1>


<h2 class="relative group">Host Environment Configuration 
    <div id="host-environment-configuration" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#host-environment-configuration" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>The following steps are one-time only:</p>
<ol>
<li>Install VxWorks Tool chain 6.9.3.1.</li>
</ol>
<ul>
<li>Install Base Tools Package.</li>
<li>Invoke the Product Maintenance GUI.
<ul>
<li>Update the installer.</li>
<li>Configure online Content Update Network settings.</li>
</ul>
</li>
</ul>
<ol start="2">
<li>Apply updates based upon your license file, as shown in Figure 2.</li>
</ol>
<p>
    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-2_hu15388213261752993549.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-2_hu7435641710745932569.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-2_hu9403061773945120061.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-2_hu16230875446973361381.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-2_hu7435641710745932569.jpg"
        alt="Select Products Dialog Box"
      />
      <figcaption>Figure 2: Select Products Dialog Box</figcaption>
    </figure>
</p>
<p>The Zynq-7000 BSP is a standard part of the 6.9.3.1 install, as shown in Figure 3:</p>
<p>
    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-3_hu10687614361971065840.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-3_hu1167137575001147745.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-3_hu10165833836772402791.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-3_hu15801917903463666916.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-3_hu1167137575001147745.jpg"
        alt="VxWorks BSP: Xilinx Zynq-7000 EPP"
      />
      <figcaption>Figure 3: VxWorks BSP: Xilinx Zynq-7000 EPP</figcaption>
    </figure>
</p>
<ol start="3">
<li>Because of the asynchronous nature of VxWorks BSPs, verify that you install the latest Xilinx BSP. The link is provided at [Ref 4].</li>
<li>Install the BSP patches as described in the BSP download link: VxWorks 6.9.3.1 BSP Driver Source Patch for BSP, The link is provided at [Ref 5].</li>
<li>Complete all details of the build steps to apply the patch into the source tree.</li>
</ol>


<h2 class="relative group">Configure and Build a VxWorks BootROM and Kernel Image 
    <div id="configure-and-build-a-vxworks-bootrom-and-kernel-image" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#configure-and-build-a-vxworks-bootrom-and-kernel-image" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>The default BSP does not enable support for accessing an SD card. Because you use the SD card to store the VxWorks image, the first step is to modify the BSP configuration.</p>
<ol>
<li>In a text editor, open the &lt;Install_Dir&gt;/vxworks-6.9/target/config/xlnx_zynq7k/config.h file, and modify line 197:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#undef DRV_STORAGE_SDHC/</span>
</span></span></code></pre></div><p>-&gt;</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#define DRV_STORAGE_SDHC</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define INCLUDE_DOSFS</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define INCLUDE_DOSFS_MAIN</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define INCLUDE_DOSFS_CHKDSK</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define INCLUDE_DOSFS_FMT</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define INCLUDE_DOSFS_FAT</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define INCLUDE_DOSFS_SHOW</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define INCLUDE_DOSFS_DIR_VFAT</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define INCLUDE_DOSFS_DIR_FIXED</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define INCLUDE_FS_MONITOR</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define INCLUDE_FS_EVENT_UTIL</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define INCLUDE_ERF</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define INCLUDE_XBD</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define INCLUDE_XBD_BLKDEV</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define INCLUDE_XBD_TRANS</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define INCLUDE_DEVICE_MANAGER</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define INCLUDE_XBD_BLK_DEV</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define INCLUDE_XBD_PART_LIB</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define INCLUDE_DISK_UTIL</span>
</span></span></code></pre></div><p>This enables the SDHC controller, as well as drivers for the FAT file system.</p>
<p>To use the VxWorks BSP with the Wind River Workbench to create a VxWorks Kernel Image, do the following:</p>
<ol start="2">
<li>
<p>Start the Wind River Workbench tool and select a workspace.
The Wind River SDK opens.</p>
</li>
<li>
<p>In the main context menu select File &gt; New &gt; Project.
The New Project Wizard opens.</p>
</li>
<li>
<p>Under VxWorks 6.x, select the VxWorks Image Project, as shown in Figure 4.

    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-4_hu17627568225613649759.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-4_hu6257346280039258347.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-4_hu1962075241266378994.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-4_hu5558706863679832297.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-4_hu6257346280039258347.jpg"
        alt="VxWorks Image Project"
      />
      <figcaption>Figure 4: VxWorks Image Project</figcaption>
    </figure>
</p>
</li>
</ol>
<p>The New VxWorks Image Project multipage wizard opens.</p>
<ol start="5">
<li>
<p>Enter a project name, for example, zynq_vxworks_01, and click Next.</p>
</li>
<li>
<p>Select the xlnx_zynq7k BSP used for this project as highlighted in Figure 5.

    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-5_hu7412001966760532468.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-5_hu897217526685990627.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-5_hu15272621747040001514.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-5_hu6422208357294034826.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-5_hu897217526685990627.jpg"
        alt="VxWorks Image Project Multipage Wizard"
      />
      <figcaption>Figure 5: VxWorks Image Project Multipage Wizard</figcaption>
    </figure>
</p>
</li>
<li>
<p>From the New VxWorks Image Project wizard, select PROFILE_DEVELOPMENT (Figure 6).

    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-6_hu15190121945177671485.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-6_hu3196128543536276929.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-6_hu15209922605108346710.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-6_hu9612544887933869908.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-6_hu3196128543536276929.jpg"
        alt="New VxWorks Image Project: PROFILE_DEVELOPMENT Option"
      />
      <figcaption>Figure 6: New VxWorks Image Project: PROFILE_DEVELOPMENT Option</figcaption>
    </figure>
</p>
</li>
<li>
<p>Click Finish.</p>
</li>
<li>
<p>Open the Kernel configuration. Change the configuration to include the symbol table in the Kernel image (Figure 7, page 10).

    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-7_hu86640516777181313.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-7_hu104637289514113650.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-7_hu6735128079455068036.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-7_hu11032628049192778675.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-7_hu104637289514113650.jpg"
        alt="Component Configuration"
      />
      <figcaption>Figure 7: Component Configuration</figcaption>
    </figure>
</p>
</li>
</ol>
<p>You can now build the Kernel image.</p>


<h2 class="relative group">Building the Kernel Image 
    <div id="building-the-kernel-image" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#building-the-kernel-image" aria-label="锚点">#</a>
    </span>        
    
</h2>
<ol>
<li>
<p>In the Project Explorer window, mouse over to the Image project, right-click and select Build Project. The VxWorks image file is located in the ,./&lt;project_name&gt;/default directory. Figure 8 shows the Build Project option.

    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-8_hu16514453248121945422.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-8_hu2245745423371394440.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-8_hu1896942258073852956.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-8_hu15570033935772592347.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-8_hu2245745423371394440.jpg"
        alt="Build Project Option"
      />
      <figcaption>Figure 8: Build Project Option</figcaption>
    </figure>
</p>
</li>
<li>
<p>When the project build is complete, start a Wind River VxWorks development shell.
Use this shell to build a bootROM binary. The bootROM binary is the VxWorks bootloader (similar to Uboot); it is not within the Zynq-7000 device ROM.</p>
</li>
<li>
<p>Within the shell, type:</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">cd</span> ..<span class="se">\&lt;</span>install_dir&gt;<span class="se">\W</span>indRiver<span class="se">\v</span>xworks-6.9<span class="se">\t</span>arget<span class="se">\c</span>onfig<span class="se">\x</span>lnx_zynq7k<span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>make clean make bootROM
</span></span></code></pre></div><p>The commands generate a file with the name bootROM. Rename the file to bootROM.elf</p>
<ol start="4">
<li>Create a boot.bif and a zynq_fsbl_0.elf file, with the following format:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">ZC702_bif_for_VxWorks:
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>bootloader<span class="o">]</span>zynq_fsbl_0.elf
</span></span><span class="line"><span class="cl">bootROM.elf
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><ol start="5">
<li>Copy the bootROM.elf, zynq_fsbl_0.elf, and the boot.bif file to the /bootgen directory.</li>
</ol>
<p>Alternatively, you can copy the bootgen.exe tool to the current installation directory.</p>
<pre tabindex="0"><code class="language-mark" data-lang="mark">C:\&lt;install_dir&gt;\WindRiver\vxworks-6.9\target\config\xlnx_zynq7k\
</code></pre><ol start="6">
<li>In the Wind River shell, type:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">bootgen image boot.bif I BOOT.BIN
</span></span></code></pre></div><ol start="7">
<li>Copy the following files onto an SD card:</li>
</ol>
<ul>
<li>VxWorks from the ..&lt;project_name&gt;\default directory</li>
<li>BOOT.BIN from the ..&lt;install_dir&gt;\WindRiver\vxworks 6.9\xlnx_zynq7k\ directory.</li>
</ul>
<p>This creates a system that can boot from an SD card.</p>
<p>The following subsection describes the required steps to boot from an SD card.</p>


<h2 class="relative group">Booting From an Secure Digital Card 
    <div id="booting-from-an-secure-digital-card" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#booting-from-an-secure-digital-card" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>Use the Secure Digital (SD) card to boot the Zynq-7000 AP SoC Processor System (PS).</p>
<ol>
<li>Connect a power cable, a Xilinx USB download cable, an Ethernet cable, and a USB UART cable to the board.</li>
<li>Put the SD Card in the SD card pole of the board. Ensure that the switches for booting from SD Card are in the right position. Ensure that the settings of Jumpers J27 and J28 are the same as shown. Move the DIP-Switches 3 and 4 of SW 16 to the left (this sets the switches to 1) (Figure 9).

    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-9_hu5912036469349856520.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-9_hu18064452638398136696.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-9_hu3144598208100860423.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-9_hu16492732489149904600.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-9_hu18064452638398136696.jpg"
        alt="Image of SD Card and USB Connection"
      />
      <figcaption>Figure 9: Image of SD Card and USB Connection</figcaption>
    </figure>
</li>
</ol>
<p>These settings ensure an SD card boot.</p>
<ol start="3">
<li>Open a terminal session, and choose the right COM port () function, and set the <code>Baud Rate</code> to <code>115200</code>.</li>
<li>Switch on the board.</li>
<li>Stop the Autoboot process by pressing the keyboard <code>Return</code> key.</li>
</ol>
<p>The VxWorks bootROM prompt opens.</p>
<ol start="6">
<li>Type C at the boot prompt, and press Return to start the boot configuration.</li>
<li>Change the boot device to fs and press Return until you reach the file name.</li>
<li>Change to /sd0:1/vxWorks and press Return until you reach other (o).</li>
<li>If no entry exists, type gem0. Press Return and the boot prompt opens.</li>
<li>Type @ to proceed the boot process.</li>
<li>Type i to display all running tasks.</li>
</ol>
<p>VxWorks boots and presents the output as shown in Figure 10.</p>
<p>
    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-10_hu2771496302771119095.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-10_hu11619533685981768156.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-10_hu16352440735306225484.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-10_hu5918777899811228398.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-10_hu11619533685981768156.jpg"
        alt="SD Boot Terminal Transcript"
      />
      <figcaption>Figure 10: SD Boot Terminal Transcript</figcaption>
    </figure>
</p>


<h2 class="relative group">Booting Using FTP 
    <div id="booting-using-ftp" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#booting-using-ftp" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>Repeat the first four steps shown in Booting From an Secure Digital Card, as follows:</p>
<ol>
<li>
<p>Connect a power cable, a Xilinx USB download cable, an Ethernet cable, and a USB UART cable to the board.</p>
</li>
<li>
<p>Put the SD Card in the SD card pole of the board. Ensure that the switches for booting from SD Card are in the right position. Open a terminal session, and choose the right COM port () function, and set the Baud Rate to 115200.</p>
</li>
<li>
<p>Change the local area network (LAN) connection of your system network settings to the IP address 192.168.1.1.

    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-11_hu2708918809863246159.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-11_hu16744479522885246070.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-11_hu16589064066609734268.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-11_hu7814171117605920734.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-11_hu16744479522885246070.jpg"
        alt="Host Ethernet MAC Configuration"
      />
      <figcaption>Figure 11: Host Ethernet MAC Configuration</figcaption>
    </figure>
</p>
</li>
<li>
<p>Start an FTP server. You can use the server delivered with the Wind River tool chain.
If you use the Wind River FTP server, select Security &gt; User/rights.</p>
</li>
<li>
<p>Click New User and type a name; for example, Zynq and a password.</p>
</li>
<li>
<p>Type the home directory of the VxWorks image, then click Done.</p>
</li>
<li>
<p>Switch on the board.</p>
</li>
<li>
<p>Stop the Autoboot process by pressing Return.
The VxWorks bootROM prompt opens.</p>
</li>
<li>
<p>At the boot prompt, type c then press Return to start the boot configuration.</p>
</li>
<li>
<p>Type gem0 to change boot device then press Return until you reach File Name.</p>
</li>
<li>
<p>Type VxWorks, then press Return until you reach inet on ethernet (e).</p>
</li>
<li>
<p>Change the inet on ethernet (e) to IP address 192.168.1.2:0xffffff00, then press Return until you reach host inet (h).</p>
</li>
<li>
<p>Change host inet (h) IP address 192.169.1.1, then press Return until you reach user.</p>
</li>
<li>
<p>Type the user name you choose for the server then press Return until you reach password (pw).</p>
</li>
<li>
<p>Type password you choose for the server, then press Return until you reach other (o).</p>
</li>
<li>
<p>If no entry exists, type gem0, then press Return.
The boot prompt opens.</p>
</li>
<li>
<p>Type @ to start the boot process.</p>
</li>
</ol>
<p>VxWorks boots from the image using the terminal (Figure 12).</p>
<p>
    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-12_hu17115279739690513085.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-12_hu559320515521463331.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-12_hu12884623286601005398.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-12_hu5919933314491811501.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-12_hu559320515521463331.jpg"
        alt="Boot Terminal Transcript"
      />
      <figcaption>Figure 12: Boot Terminal Transcript</figcaption>
    </figure>
</p>


<h1 class="relative group">Building and Debugging the Application 
    <div id="building-and-debugging-the-application" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#building-and-debugging-the-application" aria-label="锚点">#</a>
    </span>        
    
</h1>


<h2 class="relative group">Creating the Hello World Application 
    <div id="creating-the-hello-world-application" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#creating-the-hello-world-application" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>As short example, the following instructions describe how to build and download a small &ldquo;Hello World&rdquo; application to the remote target after you have set up and are running VxWorks.</p>
<p>The assumptions are:</p>
<ul>
<li>You have followed the prior stages of this document.</li>
<li>VxWorks is executing on the target (with remote debug enabled).</li>
<li>An Ethernet connection is present between the host and the target.</li>
</ul>
<p>To create the &ldquo;Hello World&rdquo; application:</p>
<ol>
<li>
<p>Select File &gt; New &gt; Project &gt; VxWorks Downloadable Kernel Module Project, as shown in Figure 13.

    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-13_hu809145217013652630.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-13_hu4626072118218329237.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-13_hu1069619918859267698.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-13_hu5010257284986707834.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-13_hu4626072118218329237.jpg"
        alt="New Project Wizard"
      />
      <figcaption>Figure 13: New Project Wizard</figcaption>
    </figure>
</p>
</li>
<li>
<p>Click Next and enter a project name; for example, hello_world, (Figure 14), then press Finish.

    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-14_hu792604857900870183.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-14_hu15989776217100907091.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-14_hu1452904923080978830.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-14_hu15024230688200007155.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-14_hu15989776217100907091.jpg"
        alt="New Kernel Module Project"
      />
      <figcaption>Figure 14: New Kernel Module Project</figcaption>
    </figure>
</p>
</li>
</ol>
<p>A hello_world project opens in the Project Explorer Window.</p>
<ol start="3">
<li>Move the mouse to the Project. Click the right button and select New &gt; File.</li>
<li>Enter a file name; for example, hello.c, and click Finish.</li>
<li>Enter the following code into the file:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="kt">void</span> <span class="nf">hello</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printf</span><span class="p">(</span><span class="s">&#34;Hello Wind River</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><ol start="6">
<li>
<p>In the Project Explorer window, select Build Targets (Figure 15), and click the right mouse button.

    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-15_hu5154912861763233959.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-15_hu2832893949549555275.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-15_hu15662136079029605479.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-15_hu7155674534139113210.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-15_hu2832893949549555275.jpg"
        alt="Build Target Selection"
      />
      <figcaption>Figure 15: Build Target Selection</figcaption>
    </figure>
</p>
</li>
<li>
<p>Select Build Options &gt; Set Active Build Spec &gt; <code>ARMARCH7&lt;gnu|diab&gt;</code>.
A message opens that asks if you want to set the active build spec to ARMARCH7&lt;gnu|diab&gt; (Figure 16).</p>
</li>
</ol>
<p>
    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-16_hu1012603417285146410.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-16_hu12411397974279728413.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-16_hu13308337822764431903.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-16_hu6226456771736415117.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-16_hu12411397974279728413.jpg"
        alt="Build Target Configuration"
      />
      <figcaption>Figure 16: Build Target Configuration</figcaption>
    </figure>
</p>
<ol start="8">
<li>
<p>Select YES.</p>
</li>
<li>
<p>Build the project. A message opens.</p>
</li>
<li>
<p>Click Continue.</p>
</li>
<li>
<p>In the bottom-left corner of the Wind River Workbench, go to Remote Systems.</p>
</li>
<li>
<p>In the window, right-click and select New &gt; Connection.</p>
</li>
<li>
<p>Select Wind River VxWorks 6.x Target Server Connection, and click Next.</p>
</li>
<li>
<p>Type the target IP address of 192.168.1.2, and the path to the kernel image (in this case type: ..&lt;project_name&gt;\default). Click Finish.</p>
</li>
<li>
<p>Right-click the new connection, and click Connect.</p>
</li>
<li>
<p>In the Project Explorer window, right-click Build Targets, then select Debug VxWorks Kernel Task.</p>
</li>
<li>
<p>The Debug Configuration window opens, as shown in Figure 17

    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-17_hu13632194256274052981.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-17_hu6017149652134535916.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-17_hu17646994343772840292.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-17_hu14696835723761188531.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-17_hu6017149652134535916.jpg"
        alt="Debug Configuration Window"
      />
      <figcaption>Figure 17: Debug Configuration Window</figcaption>
    </figure>
</p>
</li>
<li>
<p>From General &gt; Entry, type hello to locate the hello world project.
Alternatively, you can use the Browse button to find the hello world project.</p>
</li>
<li>
<p>Click Debug.
The terminal window that is connected to the board issue the following message:</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">&gt;&gt; Break at 0x0144accc: hello +0x4 Task: 0x14cdfc0 <span class="o">(</span>Hello<span class="o">)</span>
</span></span></code></pre></div>
  



<div
  
    class="flex px-4 py-3 rounded-md bg-primary-100 dark:bg-primary-900"
  >

  <span
    
      class="text-primary-400 ltr:pr-3 rtl:pl-3 flex items-center"
    >

    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"/></svg>

  </span>


  </span>

  <span
    
      class="dark:text-neutral-300"
    >Note: The message can differ slightly from yours as it depends on your Kernel settings. It just gives
you the hint that a task was downloaded and stopped for debug.</span>
</div>

<ol start="20">
<li>
<p>In the debug window, click the Run button.
The terminal window displays: Hello Wind River.</p>
</li>
<li>
<p>Type <code>i</code> to see the tasks in the VxWorks task list.</p>
</li>
<li>
<p>Type <code>repeat 10,hello</code> to repeat the task 10 times.</p>
</li>
</ol>


<h1 class="relative group">Accessing a Peripheral in the Processing System 
    <div id="accessing-a-peripheral-in-the-processing-system" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#accessing-a-peripheral-in-the-processing-system" aria-label="锚点">#</a>
    </span>        
    
</h1>
<p>In the ARM® Cortex™ A9 processor, every peripheral is memory mapped. The address map for the Zynq-7000 AP SoC processor, for example, is listed in the Zynq-7000 AP SoC Technical Reference Manual (UG585) [Ref 2].</p>


<h2 class="relative group">Modifying the Hello World Application 
    <div id="modifying-the-hello-world-application" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#modifying-the-hello-world-application" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>Modify the &ldquo;Hello World&rdquo; application to access the GPIO peripheral. On the ZC702 board, MIO pin 10 is connected to an LED (DS12).</p>
<p>From the Zynq-7000 AP SoC Technical Reference Manual, (UG585) [Ref 6], you see that the base address of the GPIO peripheral is 0XE000A000. To access pin 10 as an output, you must configure this peripheral first:</p>
<ol>
<li>Set the direction to output by writing a 1 to bit 10 of the gpio.DIRM_0 register.</li>
<li>Enable the output by writing a 1 to bit 10 of the gpio.OEN_0 register.</li>
<li>Write to bit 10 of the gpio.DATA_0 register to control the LED.</li>
</ol>
<p>The updated source code of the hello world application now looks like the following:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#include &lt;stdio.h&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#include &lt;sys/mman.h&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define GPIO_BASE 0xE000A000</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define GPIO_DIRM_0 0x00000204</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define GPIO_OEN_0 0x00000208</span>
</span></span><span class="line"><span class="cl"><span class="c1">#define GPIO_DATA_0 0x00000040</span>
</span></span><span class="line"><span class="cl">int main<span class="o">(</span>void<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">	printf<span class="o">(</span><span class="s2">&#34;Hello World!\n&#34;</span><span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	int <span class="nv">val</span> <span class="o">=</span> 0xffffffff<span class="p">;</span>
</span></span><span class="line"><span class="cl">	sysOutLong<span class="o">(</span>GPIO_BASE + GPIO_DIRM_0, 0x00000400<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	sysOutLong<span class="o">(</span>GPIO_BASE + GPIO_OEN_0, 0x00000400<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="k">while</span> <span class="o">(</span>1<span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">		sysOutLong<span class="o">(</span>GPIO_BASE + GPIO_DATA_0, val<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		sleep<span class="o">(</span>1<span class="o">)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		val ^<span class="o">=</span> 0xffffffff<span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="o">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> 0<span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><ol start="4">
<li>Save this file, then build and debug this application following steps 9 to 19 of the previous section. The result is that the LED toggles every second.</li>
</ol>


<h1 class="relative group">Accessing a Peripheral in the Programmable Logic 
    <div id="accessing-a-peripheral-in-the-programmable-logic" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#accessing-a-peripheral-in-the-programmable-logic" aria-label="锚点">#</a>
    </span>        
    
</h1>
<p>Accessing a peripheral in the Programmable Logic is very similar to accessing a peripheral in the processing system: both master GP AXI interfaces have an address space of 1GB, as can be seen in the Address Map table in the Zynq-7000 AP SoC Technical Reference Manual (UG585) [Ref 6]. The differences are:</p>
<ul>
<li>You must first program the PL with a BIT file containing the AXI_GPIO peripheral.</li>
<li>You must modify the VxWorks BSP to allow access to the address range that you configured for that peripheral.</li>
</ul>
<p>The design created for this section contains an AXI_GPIO peripheral connected to the M_AXI_GP0 port of the PS.</p>
<p>The four GPIO pins of the AXI_GPIO peripheral are connected to the DS15 to DS18 LEDs on the ZC702 board.</p>
<p>
    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-18_hu7826986449532822019.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-18_hu12405514180370938195.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-18_hu426169320161914245.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-18_hu652906997198060349.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-18_hu12405514180370938195.jpg"
        alt="Zynq-7000 Processor System and Peripherals"
      />
      <figcaption>Figure 18: Zynq-7000 Processor System and Peripherals</figcaption>
    </figure>
</p>
<p>The Address Editor shows the base address where this peripheral is mapped, as shown in Figure 19.</p>
<p>
    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-19_hu18121581526399898189.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-19_hu9100750662222983102.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-19_hu497597307499406435.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-19_hu2663341589701365233.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-19_hu9100750662222983102.jpg"
        alt="Address Editor"
      />
      <figcaption>Figure 19: Address Editor</figcaption>
    </figure>
</p>
<p>After implementing this design, you generate a new FSBL, and use this FSBL, together with the generated BIT file, to create a new boot.bin file to download to the SD card.</p>
<ol>
<li>Follow the same steps as you used but use a slightly modified boot.bif file, as follows:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">//ZC702_bif_for_VxWorks:
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>bootloader<span class="o">]</span>fsbl.elf
</span></span><span class="line"><span class="cl">bitfile.bit
</span></span><span class="line"><span class="cl">bootROM.elf
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><p>Where:</p>
<ul>
<li>-fsbl.elf is the new FSBL.</li>
<li>-bitfile.bit is the BIT created by the hardware design.</li>
</ul>
<p>This produces a new boot.bin file to boot the ZC702 board.</p>
<ol start="2">
<li>To access the peripheral from within a VxWorks kernel module, first modify the BSP.</li>
</ol>
<p>The default configuration of the VxWorks BSP configures the MMU to allow access to a limited set of addresses, listed in the documentation of the BSP.</p>
<p>
    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-20_hu17490220901283722214.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-20_hu11716874315258594479.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-20_hu4761592214590943003.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-20_hu12919171307529589509.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-20_hu11716874315258594479.jpg"
        alt="Memory Map"
      />
      <figcaption>Figure 20: Memory Map</figcaption>
    </figure>
</p>


<h2 class="relative group">Adding the Address Range to the MMU Configuration 
    <div id="adding-the-address-range-to-the-mmu-configuration" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#adding-the-address-range-to-the-mmu-configuration" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>The M_AXI_GP ports are not mapped.</p>
<p>To add the address range to the MMU configuration, modify the VxWorks BSP:</p>
<ol>
<li>Open the VxWorks image project, then browse to the /xlns_zynq7k folder.</li>
<li>Double-click the sysLib.c file to open the file in the Text Editor.</li>
</ol>
<p>
    <figure>
      <img
        class="my-0 rounded-md"
        loading="lazy"
        srcset="
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-21_hu275085277818508936.jpg 330w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-21_hu8136484898173989422.jpg 660w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-21_hu10328811535622348474.jpg 1024w,
        /bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-21_hu16491766104691496400.jpg 2x"
        src="/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/VxWorks-Zynq-7000-Figure-21_hu8136484898173989422.jpg"
        alt="MMU Configuration"
      />
      <figcaption>Figure 21: MMU Configuration</figcaption>
    </figure>
</p>
<ol start="3">
<li>In the syslib.c file, scroll down to line 109, find the struct containing the MMU configuration.
For example, on line 225, find the mapping for the GPIO peripheral used in the previous example:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">ZYNQ7K_GPIO_BASE</span><span class="p">,</span><span class="cm">/* Zynq-7000 gpio */</span> <span class="n">ZYNQ7K_GPIO_BASE</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="n">PAGE_SIZE</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="n">MMU_ATTR_VALID_MSK</span> <span class="o">|</span> <span class="n">MMU_ATTR_PROT_MSK</span> <span class="o">|</span>
</span></span><span class="line"><span class="cl"><span class="n">MMU_ATTR_DEVICE_SHARED_MSK</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="n">MMU_ATTR_VALID</span> <span class="o">|</span><span class="n">MMU_ATTR_SUP_RWX</span><span class="o">|</span>
</span></span><span class="line"><span class="cl"><span class="n">MMU_ATTR_DEVICE_SHARED</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span>
</span></span></code></pre></div><ol start="4">
<li>Add the mapping for the AXI_GPIO peripheral by adding the following line:</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x41200000</span><span class="p">,</span><span class="cm">/* My AXI gpio */</span>
</span></span><span class="line"><span class="cl"><span class="mh">0x41200000</span><span class="p">,</span> <span class="n">PAGE_SIZE</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="n">MMU_ATTR_VALID_MSK</span> <span class="o">|</span> <span class="n">MMU_ATTR_PROT_MSK</span> <span class="o">|</span>
</span></span><span class="line"><span class="cl"><span class="n">MMU_ATTR_DEVICE_SHARED_MSK</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="n">MMU_ATTR_VALID</span><span class="o">|</span> <span class="n">MMU_ATTR_SUP_RWX</span><span class="o">|</span>
</span></span><span class="line"><span class="cl"><span class="n">MMU_ATTR_DEVICE_SHARED</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span>
</span></span></code></pre></div><ol start="5">
<li>
<p>Save the file, and rebuild the VxWorks project.</p>
</li>
<li>
<p>Use this VxWorks image, and either:</p>
</li>
</ol>
<ul>
<li>-Put the image on the SD card to boot from SD, or</li>
<li>-When fetching the VxWorks image over FTP, boot the board with the updated boot.bin file.</li>
</ul>
<ol start="7">
<li>After booting the ZC702 board with this SD card, the FSBL configures the PL before launching the VxWorks BootROM.
The BootROM then loads the updated VxWorks image.</li>
</ol>


<h2 class="relative group">Updating the Hello World Project 
    <div id="updating-the-hello-world-project" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#updating-the-hello-world-project" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>Update the &ldquo;hello world&rdquo; project to access the AXI peripheral. The AXI_GPIO peripheral is slightly different from the hardened GPIO peripheral: you need only to set the direction, not enable the output driver.</p>
<p>Change the contents of the file to:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;sys/mman.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#define AXI_GPIO_BASE 0x41200000
</span></span></span><span class="line"><span class="cl"><span class="cp">#define AXI_GPIO_TRI 0x04
</span></span></span><span class="line"><span class="cl"><span class="cp">#define AXI_GPIO_DATA 0x00
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;Hello World!</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">val</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">sysOutLong</span><span class="p">(</span><span class="n">AXI_GPIO_BASE</span> <span class="o">+</span> <span class="n">AXI_GPIO_TRI</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nf">sysOutLong</span><span class="p">(</span><span class="n">AXI_GPIO_BASE</span> <span class="o">+</span> <span class="n">AXI_GPIO_DATA</span><span class="p">,</span> <span class="n">val</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">val</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nf">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">val</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">val</span> <span class="o">==</span> <span class="mh">0x10000</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">val</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>When you rebuild this project, and run it on the ZC702 board, it toggles the LEDs every second.</p>


<h1 class="relative group">Conclusion 
    <div id="conclusion" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#conclusion" aria-label="锚点">#</a>
    </span>        
    
</h1>
<p>This application note has provided step-by-step instructions for running the VxWorks 6.9.3.1 BSP on the Zynq-7000 SoC All Programmable device platform, and additionally provided an overview of the boot process for the Zynq-7000 AP SoC platform.</p>
<p>You now know the steps for using VxWorks RTOS on the Zynq-7000 AP SoC platform.</p>


<h1 class="relative group">Additional Resources 
    <div id="additional-resources" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#additional-resources" aria-label="锚点">#</a>
    </span>        
    
</h1>
<p>The following links are to additional resources referenced in this document:</p>
<ol>
<li>
<p>Zynq-7000 AP SOC - Concepts, Tools and Techniques User Guide (UG837)</p>
</li>
<li>
<p>Zynq-7000 All Programmable SoC Software Developers Guide (UG821)</p>
</li>
<li>
<p>Zynq-7000 AP SoC Technical Reference Manual, (UG585)</p>
</li>
<li>
<p>Xilinx BSP: gppve_6_9_xlnx_zynq7k_6_9_2:
<a href="https://portal.windriver.com/cgi-bin/windsurf/bsp/infoBSP.cgi?id=12020" target="_blank">https://portal.windriver.com/cgi-bin/windsurf/bsp/infoBSP.cgi?id=12020</a></p>
</li>
<li>
<p>VxWorks 6.9.3.1 BSP Driver Source Patch:
<a href="https://support.windriver.com/olsPortal/faces/maintenance/downloadDetails.jspx?contentId=041654" target="_blank">https://support.windriver.com/olsPortal/faces/maintenance/downloadDetails.jspx?contentId=041654</a></p>
</li>
<li>
<p>VxWorks 6.9.3.1 USB L2 Cache Source Patch:
<a href="https://support.windriver.com/olsPortal/faces/maintenance/downloadDetails.jspx?contentId=041575" target="_blank">https://support.windriver.com/olsPortal/faces/maintenance/downloadDetails.jspx?contentId=041575</a></p>
</li>
</ol>

          
          
          
        </div>
        
        

        
<details style="margin-left:0px" class="mt-2 mb-5 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5">
    
    <summary
        class="py-1 text-lg font-semibold cursor-pointer bg-primary-200 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-primary-800 dark:text-neutral-100">
        BSP - 这篇文章属于一个选集。
    </summary>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        § 1: 本文
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="https://www.kad8.com/bsp/vxworks-5-4-device-driver-development/">
            § 2: VxWorks 5.4 Device Driver Development
        </a>
    </div>
    
    
    
    <div
        class="py-1 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
        <a href="https://www.kad8.com/bsp/booting-vxworks-with-altera-cyclone-v/">
            § 3: Boot VxWorks With Altera Cyclone V
        </a>
    </div>
    
    


</details>

        
  
  <section class="flex flex-row flex-wrap justify-center pt-4 text-xl">
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://www.kad8.com/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/&amp;title=Using%20VxWorks%20BSP%20With%20Zynq%207000%20Ap%20Soc"
      title="分享到 LinkedIn"
      aria-label="分享到 LinkedIn"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://twitter.com/intent/tweet/?url=https://www.kad8.com/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/&amp;text=Using%20VxWorks%20BSP%20With%20Zynq%207000%20Ap%20Soc"
      title="分享到 Twitter"
      aria-label="分享到 Twitter"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg>
  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://bsky.app/intent/compose?text=Using%20VxWorks%20BSP%20With%20Zynq%207000%20Ap%20Soc&#43;https://www.kad8.com/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/"
      title=""
      aria-label=""
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256,232.562c-21.183,-41.196 -78.868,-117.97 -132.503,-155.834c-51.378,-36.272 -70.978,-29.987 -83.828,-24.181c-14.872,6.72 -17.577,29.554 -17.577,42.988c0,13.433 7.365,110.138 12.169,126.281c15.873,53.336 72.376,71.358 124.413,65.574c2.66,-0.395 5.357,-0.759 8.089,-1.097c-2.68,0.429 -5.379,0.796 -8.089,1.097c-76.259,11.294 -143.984,39.085 -55.158,137.972c97.708,101.165 133.908,-21.692 152.484,-83.983c18.576,62.291 39.972,180.718 150.734,83.983c83.174,-83.983 22.851,-126.674 -53.408,-137.969c-2.71,-0.302 -5.409,-0.667 -8.089,-1.096c2.732,0.337 5.429,0.702 8.089,1.096c52.037,5.785 108.54,-12.239 124.413,-65.574c4.804,-16.142 12.169,-112.847 12.169,-126.281c-0,-13.434 -2.705,-36.267 -17.577,-42.988c-12.85,-5.806 -32.45,-12.09 -83.829,24.181c-53.634,37.864 -111.319,114.635 -132.502,155.831Z"/></svg>
  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://s2f.kytta.dev/?text=Using%20VxWorks%20BSP%20With%20Zynq%207000%20Ap%20Soc%20https://www.kad8.com/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/"
      title=""
      aria-label=""
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://reddit.com/submit/?url=https://www.kad8.com/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/&amp;resubmit=true&amp;title=Using%20VxWorks%20BSP%20With%20Zynq%207000%20Ap%20Soc"
      title="提交到 Reddit"
      aria-label="提交到 Reddit"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.kad8.com/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/&amp;description=Using%20VxWorks%20BSP%20With%20Zynq%207000%20Ap%20Soc"
      title="钉到 Pinterest"
      aria-label="钉到 Pinterest"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://www.facebook.com/sharer/sharer.php?u=https://www.kad8.com/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/&amp;quote=Using%20VxWorks%20BSP%20With%20Zynq%207000%20Ap%20Soc"
      title="分享到 Facebook"
      aria-label="分享到 Facebook"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="mailto:?body=https://www.kad8.com/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/&amp;subject=Using%20VxWorks%20BSP%20With%20Zynq%207000%20Ap%20Soc"
      title="通过电子邮件发送"
      aria-label="通过电子邮件发送"
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1c-27.64 140.9 68.65 266.2 199.1 285.1c19.01 2.888 36.17-12.26 36.17-31.49l.0001-.6631c0-15.74-11.44-28.88-26.84-31.24c-84.35-12.98-149.2-86.13-149.2-174.2c0-102.9 88.61-185.5 193.4-175.4c91.54 8.869 158.6 91.25 158.6 183.2l0 16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98 .0036c-7.299 0-13.2 4.992-15.12 11.68c-24.85-12.15-54.24-16.38-86.06-5.106c-38.75 13.73-68.12 48.91-73.72 89.64c-9.483 69.01 43.81 128 110.9 128c26.44 0 50.43-9.544 69.59-24.88c24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3C495.1 107.1 361.2-9.332 207.8 20.73zM239.1 304.3c-26.47 0-48-21.56-48-48.05s21.53-48.05 48-48.05s48 21.56 48 48.05S266.5 304.3 239.1 304.3z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://api.whatsapp.com/send?text=https://www.kad8.com/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/&amp;resubmit=true&amp;title=Using%20VxWorks%20BSP%20With%20Zynq%207000%20Ap%20Soc"
      title=""
      aria-label=""
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/></svg>

  </span>


    </a>
      
    
      
      <a
      target="_blank"
      class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800"
      href="https://t.me/share/url?url=https://www.kad8.com/bsp/using-vxworks-bsp-with-zynq-7000-ap-soc/&amp;resubmit=true&amp;title=Using%20VxWorks%20BSP%20With%20Zynq%207000%20Ap%20Soc"
      title=""
      aria-label=""
      >
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M248,8C111.033,8,0,119.033,0,256S111.033,504,248,504,496,392.967,496,256,384.967,8,248,8ZM362.952,176.66c-3.732,39.215-19.881,134.378-28.1,178.3-3.476,18.584-10.322,24.816-16.948,25.425-14.4,1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25,5.342-39.5,3.652-3.793,67.107-61.51,68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608,69.142-14.845,10.194-26.894,9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7,18.45-13.7,108.446-47.248,144.628-62.3c68.872-28.647,83.183-33.623,92.511-33.789,2.052-.034,6.639.474,9.61,2.885a10.452,10.452,0,0,1,3.53,6.716A43.765,43.765,0,0,1,362.952,176.66Z"/></svg>

  </span>


    </a>
      
    
  </section>


        


<h2 class="mt-8 text-2xl font-extrabold mb-10">相关文章</h2>
<section class="w-full grid gap-4 sm:grid-cols-2 md:grid-cols-3">
  
  

  <a href="/training/vxworks-directory-structure-and-package-management/" class="min-w-full">
    
    <div class="min-h-full border border-neutral-200 dark:border-neutral-700 border-2 rounded overflow-hidden shadow-2xl relative">
        
        <div class="w-full thumbnail_card_related nozoom" style="background-image:url(/training/vxworks-directory-structure-and-package-management/featured-Directory-Structure-and-Package-Management_hu9527853996698640287.png);"></div>
        
      

      <div class="px-6 py-4">

        
        <div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral"
          href="/training/vxworks-directory-structure-and-package-management/">VxWorks Directory Structure and Package Management</div>
        

        <div class="text-sm text-neutral-500 dark:text-neutral-400">
          











  



















<div class="flex flex-row flex-wrap items-center">
  
  
  <time datetime="2024-10-05T07:54:11&#43;08:00">2024-10-05</time>
  

  
  
</div>





<div class="flex flex-row flex-wrap items-center">
  
  
  
  
  
  
  
  
  
  
  
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/vxworks/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    VxWorks
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/layer/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Layer
  </span>
</span>
  </span>
  
  
  
  
</div>




        </div>

        
      </div>
      <div class="px-6 pt-4 pb-2">

      </div>
    </div>
  </a>

  
  

  <a href="/training/kernel-shell-usage/" class="min-w-full">
    
    <div class="min-h-full border border-neutral-200 dark:border-neutral-700 border-2 rounded overflow-hidden shadow-2xl relative">
        
        <div class="w-full thumbnail_card_related nozoom" style="background-image:url(/training/kernel-shell-usage/featured-Kernel-Shell-Usage_hu14930298429651486782.png);"></div>
        
      

      <div class="px-6 py-4">

        
        <div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral"
          href="/training/kernel-shell-usage/">Kernel Shell Usage</div>
        

        <div class="text-sm text-neutral-500 dark:text-neutral-400">
          











  



















<div class="flex flex-row flex-wrap items-center">
  
  
  <time datetime="2024-10-05T15:53:47&#43;08:00">2024-10-05</time>
  

  
  
</div>





<div class="flex flex-row flex-wrap items-center">
  
  
  
  
  
  
  
  
  
  
  
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/vxworks/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    VxWorks
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/shell/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Shell
  </span>
</span>
  </span>
  
  
  
  
</div>




        </div>

        
      </div>
      <div class="px-6 pt-4 pb-2">

      </div>
    </div>
  </a>

  
  

  <a href="/training/kernel-shell-configuration-and-commands/" class="min-w-full">
    
    <div class="min-h-full border border-neutral-200 dark:border-neutral-700 border-2 rounded overflow-hidden shadow-2xl relative">
        
        <div class="w-full thumbnail_card_related nozoom" style="background-image:url(/training/kernel-shell-configuration-and-commands/featured-Kernel-Shell-Configuration-and-Commands_hu16109129624057730151.png);"></div>
        
      

      <div class="px-6 py-4">

        
        <div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral"
          href="/training/kernel-shell-configuration-and-commands/">Kernel Shell Configuration and Commands</div>
        

        <div class="text-sm text-neutral-500 dark:text-neutral-400">
          











  



















<div class="flex flex-row flex-wrap items-center">
  
  
  <time datetime="2024-10-05T15:42:20&#43;08:00">2024-10-05</time>
  

  
  
</div>





<div class="flex flex-row flex-wrap items-center">
  
  
  
  
  
  
  
  
  
  
  
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/vxworks/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    VxWorks
  </span>
</span>
  </span>
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/shell/&#34;,'_self');">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Shell
  </span>
</span>
  </span>
  
  
  
  
</div>




        </div>

        
      </div>
      <div class="px-6 pt-4 pb-2">

      </div>
    </div>
  </a>

  
</section>

  
      </div>
     
      
      
        
        
          
          
        
      <script>
        var oid = "views_bsp\/using-vxWorks-bsp-with-zynq-7000-ap-soc\/index.md"
        var oid_likes = "likes_bsp\/using-vxWorks-bsp-with-zynq-7000-ap-soc\/index.md"
      </script>
      
      
      <script type="text/javascript" src="/js/page.min.0860cf4e04fa2d72cc33ddba263083464d48f67de06114529043cb4623319efed4f484fd7f1730df5abea0e2da6f3538855634081d02f2d6e920b956f063e823.js" integrity="sha512-CGDPTgT6LXLMM926JjCDRk1I9n3gYRRSkEPLRiMxnv7U9IT9fxcw31q&#43;oOLabzU4hVY0CB0C8tbpILlW8GPoIw=="></script>
      
  
    </section>
  <footer class="pt-8 max-w-prose print:hidden">

    
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600" />
      <div class="flex justify-between pt-3">
        <span>
          
        </span>
        <span>
          
            <a class="flex text-right group ml-3" href="/bsp/vxworks-5-4-device-driver-development/">
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >VxWorks 5.4 Device Driver Development</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2024-10-05T19:18:03&#43;08:00">2024-10-05</time>
                  
                </span>
              </span>
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
            </a>
          
        </span>
      </div>
    </div>
  


    
  </footer>
</article>

      <div id="top-scroller" class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0">
  <a href="#the-top"
    class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="返回顶部" title="返回顶部">
    &uarr;
  </a>
</div>
    </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
  
  <div class="flex items-center justify-between">

    
    
    <p class="text-sm text-neutral-500 dark:text-neutral-400">
      &copy;
      2024
      
    </p>
    

    
    
    <p class="text-xs text-neutral-500 dark:text-neutral-400">
      
      
      由 <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://www.vxworks.net/" target="_blank" rel="noopener noreferrer">VxWorks</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://www.gaitpu.com/" target="_blank" rel="noopener noreferrer">AI</a> 强力驱动
    </p>
    

  </div>
  <script>
    
    mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
      margin: 24,
      background: 'rgba(0,0,0,0.5)',
      scrollOffset: 0,
    })
    
  </script>
  
  
  <script type="text/javascript" src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js" integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]"
  data-url="https://www.kad8.com/"
  style="z-index:500"
>
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"
  >
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="搜索"
          tabindex="0"
        />
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="关闭 (Esc)"
      >
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>


      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

  </div>
</body>

</html>
